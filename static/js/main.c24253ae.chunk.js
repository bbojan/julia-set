(this["webpackJsonpjulia-set"]=this["webpackJsonpjulia-set"]||[]).push([[0],{12:function(e,t,n){var r,c=n(23).wrap,u=n(21);e.exports=function e(){return this instanceof e?c(u()):r||(r=c(u()))}},17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){e.exports=function(){return new Worker(n.p+"3f2435eb128c4363065d.worker.js")}},22:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),u=n(10),a=n.n(u),i=(n(17),n(18),n(3));function o(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null);return Object(r.useEffect)((function(){e.current&&(t.current=e.current.getContext("2d"))}),[]),{canvasRef:e,ctxRef:t}}function s(e){var t=function(e,t){var n=Object(r.useRef)(50),c=Object(r.useRef)(50),u=Object(r.useRef)(!1);return Object(r.useEffect)((function(){var r=e.current;return r&&(r.onmousedown=function(e){var r=n.current,a=c.current,i=e.offsetX||0,o=e.offsetY||0;t({x:r,y:a,ex:i,ey:o})&&(u.current=!0)},window.onmousemove=function(e){u.current&&(n.current=e.pageX,c.current=e.pageY)},window.onmouseup=function(e){u.current=!1}),function(){r&&(r.onmousedown=null,window.onmousemove=null,window.onmouseup=null)}}),[]),{xRef:n,yRef:c}}(e,(function(e){var t=e.x,n=e.y,r=e.ex,c=e.ey;return Math.sqrt((t-r)*(t-r)+(n-c)*(n-c))<40}));return{xRef:t.xRef,yRef:t.yRef,radius:40}}var f=640;function j(e,t){var n=t.xRef,r=t.yRef,c=t.radius,u=n.current,a=r.current;e.beginPath(),e.arc(u,a,c,0,2*Math.PI),e.fillStyle="yellow",e.fill()}function l(e,t){var n=document.title.split(",");if(e){var r=document.title.split(",");document.title="".concat(r[0]||"",",  FRACTAL ").concat((1e3/t).toFixed(1)," FPS")}else document.title="UI ".concat((1e3/t).toFixed(1)," FPS  ,").concat(n[1]||"")}var b=n(2),h=n.n(b),d=n(4);function v(e){var t=Object(r.useRef)(0),n=Object(r.useRef)(0);Object(r.useEffect)((function(){var r=function(){var c=Object(d.a)(h.a.mark((function c(u){var a;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0===n.current){c.next=4;break}return a=u-n.current,c.next=4,e(a,u);case 4:n.current=u,t.current=requestAnimationFrame(r);case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return t.current=requestAnimationFrame(r),function(){return cancelAnimationFrame(t.current)}}),[])}var p=n(1),O=Object(r.memo)((function(e){var t=o(),n=t.canvasRef;return function(e,t,n,c){Object(r.useRef)(c||0).current=c||0,v(function(){var r=Object(d.a)(h.a.mark((function r(c){var u,a,i,o,s;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.current){r.next=3;break}return r.abrupt("return");case 3:if(i=t.current){r.next=6;break}return r.abrupt("return");case 6:return o=(null===(u=e.current)||void 0===u?void 0:u.width)||1,s=(null===(a=e.current)||void 0===a?void 0:a.height)||1,i.clearRect(0,0,o,s),j(i,n),l(!1,c),r.abrupt("return",Promise.resolve());case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}(n,t.ctxRef,s(n),1),Object(p.jsx)("canvas",{ref:n,width:f,height:f,style:{position:"absolute",top:0,left:0,bottom:0}})})),x=n(6),m=n(11),w=n.n(m);function g(e){for(var t=e.height,n=e.width,r=e.creal,c=e.cimag,u=e.factor,a=Math.floor(u||0),i=n,o=t,s=i/4,f=o/4,j=new Uint8ClampedArray(i*o*4),l=function(){for(var e=[],t=0;t<9;t++){var n=31*t;e[t]=[n,n,255,255],e[t+8]=[0,255,n,255],e[17+t]=[n,0,0,255]}return e}(),b=0,h=0;h<o;h++)for(var d=0;d<i;d++){var v=d/f-2,p=h/s-2,O=0;do{var x=v*v-p*p+r;p=2*v*p+c,v=x,O++}while(v*v+p*p<4&&O<25);var m=l[O];j[b+0]=m[0],j[b+1]=m[1],j[b+2]=m[2],j[b+3]=m[3],b+=4}return w()(j,i,o,a),j}function k(e){return{creal:.6*Math.sin(e/(3.14*20))-.8,cimag:.156+.4*Math.cos(e/(3.14*40))}}var y=Object(r.memo)((function(e){var t=o(),n=t.canvasRef;return function(e,t,n){var c=Object(r.useRef)(0),u=Object(r.useRef)(n||0);u.current=n||0,v(function(){var n=Object(d.a)(h.a.mark((function n(r){var a,i,o,s,f,j,b;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.current){n.next=3;break}return n.abrupt("return");case 3:if(i=t.current){n.next=6;break}return n.abrupt("return");case 6:return o={width:(null===a||void 0===a?void 0:a.width)||960,height:(null===a||void 0===a?void 0:a.height)||540,factor:u.current},c.current=c.current+1,s=k(c.current),f=Object(x.a)(Object(x.a)({},o),s),j=g(f),b=new ImageData(j,o.width,o.height),i.putImageData(b,0,0),l(!0,r),n.abrupt("return",Promise.resolve());case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(n,t.ctxRef,e.factor),Object(p.jsx)("canvas",{ref:n,width:f,height:f})})),R=n(12),P=n.n(R).a;function M(){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=new P;return e.current=t,function(){var n,r=t;r&&((n=1,new Promise((function(e){setTimeout((function(){e(n)}),n)}))).then(Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.terminate();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))),e.current=null)}}),[]),e}var A=Object(r.memo)((function(e){var t=o(),n=t.canvasRef;return function(e,t,n){var c=Object(r.useRef)(0),u=Object(r.useRef)(n||0);u.current=n||0;var a=M(),i=Object(r.useRef)(!1),o=Object(r.useRef)(null);v(function(){var n=Object(d.a)(h.a.mark((function n(r){var s,f,j,b,d,v,p,O;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=a.current){n.next=3;break}return n.abrupt("return");case 3:if(f=e.current){n.next=6;break}return n.abrupt("return");case 6:if(j=t.current){n.next=9;break}return n.abrupt("return");case 9:if(b={width:(null===f||void 0===f?void 0:f.width)||960,height:(null===f||void 0===f?void 0:f.height)||540,factor:u.current},c.current=c.current+1,d=k(c.current),v=Object(x.a)(Object(x.a)({},b),d),i.current){n.next=19;break}return i.current=!0,n.next=17,s.calculate(v);case 17:o.current=n.sent,i.current=!1;case 19:return(p=o.current)&&(O=new ImageData(p,b.width,b.height),j.putImageData(O,0,0)),l(!0,r),n.abrupt("return",Promise.resolve());case 23:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(n,t.ctxRef,e.factor),Object(p.jsx)("canvas",{ref:n,width:f,height:f})})),F=Object(r.memo)((function(){var e,t,n=Object(r.useState)(0),c=Object(i.a)(n,2),u=c[0],a=c[1];e=1,t=function(){a((function(e){return e+1}))},Object(r.useEffect)((function(){var n=setInterval(t,e);return function(){clearInterval(n)}}),[]);var o=function(){var e=new Date;return["".concat(e.getHours(),":").concat(e.getMinutes()),"".concat(e.getSeconds(),",").concat(e.getMilliseconds())]}();return Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("p",{children:"Julia set"}),Object(p.jsx)("p",{children:u}),Object(p.jsx)("p",{children:o[0]}),Object(p.jsx)("p",{children:o[1]})]})})),S=function(){var e=Object(r.useMemo)((function(){return Array.from(Array(14).keys())}),[]),t=Object(r.useMemo)((function(){return Array.from(Array(1e4).keys())}),[]),n=Object(r.useState)("main"),c=Object(i.a)(n,2),u=c[0],a=c[1],o=Object(r.useState)(2),s=Object(i.a)(o,2),f=s[0],j=s[1],l=Object(r.useState)(0),b=Object(i.a)(l,2),h=b[0],d=b[1],v=Object(r.useState)(""),x=Object(i.a)(v,2),m=x[0],w=x[1];return Object(r.useEffect)((function(){fetch("https://unpkg.com/react@17.0.2/umd/react.development.js").then((function(e){return e.text()})).then((function(e){w(e)}))}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{style:{position:"relative",margin:8},children:["main"===u&&Object(p.jsx)(y,{factor:f}),"worker"===u&&Object(p.jsx)(A,{factor:f}),Object(p.jsx)(O,{})]}),Object(p.jsx)(F,{}),Object(p.jsxs)("div",{style:{width:210},children:[Object(p.jsxs)("div",{style:{marginBottom:40},children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:"main",name:"Paint on Main thread",checked:"main"===u,onChange:function(){return a("main")}},"main"),Object(p.jsx)("span",{children:"Paint on Main thread"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:"worker",name:"Paint on Worker thread",checked:"worker"===u,onChange:function(){return a("worker")}},"worker"),Object(p.jsx)("span",{children:"Paint on Worker thread"})]})]}),Object(p.jsx)("div",{children:e.map((function(e,t){var n=2*e;return Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:n,name:"Blur ".concat(n," px"),checked:f===n,onChange:function(){return j(n)}},t),Object(p.jsxs)("span",{children:["Blur ",n," px"]})]},t)}))})]}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{style:{overflowY:"scroll",width:150,height:640},children:t.map((function(e){return Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:e,name:"Option ".concat(e),checked:h===e,onChange:function(e){return d(+e.target.value)}},e),Object(p.jsxs)("span",{children:["Option ",e]})]},e)}))})}),Object(p.jsx)("div",{style:{overflowY:"scroll",width:400,height:640},dangerouslySetInnerHTML:{__html:m}})]})};var I=function(){return Object(p.jsx)(S,{})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,u=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),u(e),a(e)}))};a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(I,{})}),document.getElementById("root")),C()}},[[22,1,2]]]);
//# sourceMappingURL=main.c24253ae.chunk.js.map