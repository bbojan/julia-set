(this["webpackJsonpjulia-set"]=this["webpackJsonpjulia-set"]||[]).push([[0],{12:function(e,t,n){var r,c=n(23).wrap,u=n(21);e.exports=function e(){return this instanceof e?c(u()):r||(r=c(u()))}},17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){e.exports=function(){return new Worker(n.p+"87e9538bbd5cba1b058c.worker.js")}},22:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),u=n(10),a=n.n(u),i=(n(17),n(18),n(3));function o(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null);return Object(r.useEffect)((function(){e.current&&(t.current=e.current.getContext("2d"))}),[]),{canvasRef:e,ctxRef:t}}function s(e){var t=function(e,t){var n=Object(r.useRef)(50),c=Object(r.useRef)(50),u=Object(r.useRef)(!1);return Object(r.useEffect)((function(){var r=e.current;return r&&(r.onmousedown=function(e){var r=n.current,a=c.current,i=e.offsetX||0,o=e.offsetY||0;t({x:r,y:a,ex:i,ey:o})&&(u.current=!0)},window.onmousemove=function(e){u.current&&(n.current=e.pageX,c.current=e.pageY)},window.onmouseup=function(e){u.current=!1}),function(){r&&(r.onmousedown=null,window.onmousemove=null,window.onmouseup=null)}}),[]),{xRef:n,yRef:c}}(e,(function(e){var t=e.x,n=e.y,r=e.ex,c=e.ey;return Math.sqrt((t-r)*(t-r)+(n-c)*(n-c))<40}));return{xRef:t.xRef,yRef:t.yRef,radius:40}}var f=800;function j(e,t){var n=t.xRef,r=t.yRef,c=t.radius,u=n.current,a=r.current;e.beginPath(),e.arc(u,a,c,0,2*Math.PI),e.fillStyle="yellow",e.fill()}var b=n(2),l=n.n(b),d=n(4);function h(e){var t=Object(r.useRef)(0),n=Object(r.useRef)(0);Object(r.useEffect)((function(){var r=function(){var c=Object(d.a)(l.a.mark((function c(u){var a;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0===n.current){c.next=4;break}return a=u-n.current,c.next=4,e(a,u);case 4:n.current=u,t.current=requestAnimationFrame(r);case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return t.current=requestAnimationFrame(r),function(){return cancelAnimationFrame(t.current)}}),[])}function v(){var e=new Date;return"".concat(e.getHours(),":").concat(e.getMinutes()," | ").concat(e.getSeconds(),",").concat(e.getMilliseconds())}var p=n(0),O=Object(r.memo)((function(e){var t=o(),n=t.canvasRef;return function(e,t,n,c){Object(r.useRef)(c||1).current=c||1,h(function(){var r=Object(d.a)(l.a.mark((function r(c){var u,a,i,o,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.current){r.next=3;break}return r.abrupt("return");case 3:if(i=t.current){r.next=6;break}return r.abrupt("return");case 6:return o=(null===(u=e.current)||void 0===u?void 0:u.width)||1,s=(null===(a=e.current)||void 0===a?void 0:a.height)||1,i.clearRect(0,0,o,s),j(i,n),r.abrupt("return",Promise.resolve());case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}(n,t.ctxRef,s(n),1),Object(p.jsx)("canvas",{ref:n,width:f,height:f,style:{position:"absolute",top:0,left:0,bottom:0}})})),x=n(6),m=n(11),w=n.n(m);function g(e){for(var t=e.height,n=e.width,r=e.creal,c=e.cimag,u=e.factor,a=Math.floor(u||1),i=n/a,o=t/a,s=i/4,f=o/4,j=new Uint8ClampedArray(i*o*4),b=function(){for(var e=[],t=0;t<9;t++){var n=31*t;e[t]=[n,n,255,255],e[t+8]=[0,255,n,255],e[17+t]=[n,0,0,255]}return e}(),l=0,d=0;d<o;d++)for(var h=0;h<i;h++){var v=h/f-2,p=d/s-2,O=0;do{var x=v*v-p*p+r;p=2*v*p+c,v=x,O++}while(v*v+p*p<4&&O<25);var m=b[O];j[l+0]=m[0],j[l+1]=m[1],j[l+2]=m[2],j[l+3]=m[3],l+=4}return w()(j,i,o,8),j}function y(e){return{creal:.6*Math.sin(e/(3.14*20))-.8,cimag:.156+.4*Math.cos(e/(3.14*40))}}var k=Object(r.memo)((function(e){var t=o(),n=t.canvasRef;return function(e,t,n){var c=Object(r.useRef)(0),u=Object(r.useRef)(n||1);u.current=n||1,h(function(){var n=Object(d.a)(l.a.mark((function n(r){var a,i,o,s,f,j,b;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.current){n.next=3;break}return n.abrupt("return");case 3:if(i=t.current){n.next=6;break}return n.abrupt("return");case 6:return o={width:(null===a||void 0===a?void 0:a.width)||960,height:(null===a||void 0===a?void 0:a.height)||540,factor:u.current},c.current=c.current+1,s=y(c.current),f=Object(x.a)(Object(x.a)({},o),s),j=g(f),b=new ImageData(j,o.width,o.height),i.putImageData(b,0,0),document.title="".concat((1e3/r).toFixed(2)," FPS"),n.abrupt("return",Promise.resolve());case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(n,t.ctxRef,e.factor),Object(p.jsx)("canvas",{ref:n,width:f,height:f})})),R=n(12),P=n.n(R).a;function D(){var e=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=new P;return e.current=t,function(){var n,r=t;r&&((n=1,new Promise((function(e){setTimeout((function(){e(n)}),n)}))).then(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.terminate();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))),e.current=null)}}),[]),e}var M=Object(r.memo)((function(e){var t=o(),n=t.canvasRef;return function(e,t,n){var c=Object(r.useRef)(0),u=Object(r.useRef)(n||1);u.current=n||1;var a=D(),i=Object(r.useRef)(!1),o=Object(r.useRef)(null);h(function(){var n=Object(d.a)(l.a.mark((function n(r){var s,f,j,b,d,h,v,p;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=a.current){n.next=3;break}return n.abrupt("return");case 3:if(f=e.current){n.next=6;break}return n.abrupt("return");case 6:if(j=t.current){n.next=9;break}return n.abrupt("return");case 9:if(b={width:(null===f||void 0===f?void 0:f.width)||960,height:(null===f||void 0===f?void 0:f.height)||540,factor:u.current},c.current=c.current+1,d=y(c.current),h=Object(x.a)(Object(x.a)({},b),d),i.current){n.next=19;break}return i.current=!0,n.next=17,s.calculate(h);case 17:o.current=n.sent,i.current=!1;case 19:return(v=o.current)&&(p=new ImageData(v,b.width,b.height),j.putImageData(p,0,0)),document.title="".concat((1e3/r).toFixed(2)," FPS"),n.abrupt("return",Promise.resolve());case 23:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}(n,t.ctxRef,e.factor),Object(p.jsx)("canvas",{ref:n,width:f,height:f})})),S=Object(r.memo)((function(){var e,t,n=Object(r.useState)(0),c=Object(i.a)(n,2),u=c[0],a=c[1];return e=1,t=function(){a((function(e){return e+1}))},Object(r.useEffect)((function(){var n=setInterval(t,e);return function(){clearInterval(n)}}),[]),Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("p",{children:"Julia set"}),Object(p.jsx)("p",{children:u}),Object(p.jsx)("p",{children:v()})]})})),C=function(){var e=Object(r.useMemo)((function(){return Array.from(Array(1e4).keys())}),[]),t=Object(r.useState)("main"),n=Object(i.a)(t,2),c=n[0],u=n[1],a=Object(r.useState)(1),o=Object(i.a)(a,2),s=o[0],f=o[1],j=Object(r.useState)(0),b=Object(i.a)(j,2),l=b[0],d=b[1],h=Object(r.useState)(""),v=Object(i.a)(h,2),x=v[0],m=v[1];return Object(r.useEffect)((function(){fetch("https://unpkg.com/react@17.0.2/umd/react.development.js").then((function(e){return e.text()})).then((function(e){m(e)}))}),[]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{style:{position:"relative",margin:8},children:["main"===c&&Object(p.jsx)(k,{factor:s}),"worker"===c&&Object(p.jsx)(M,{factor:s}),Object(p.jsx)(O,{})]}),Object(p.jsx)(S,{}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{style:{width:210,height:640},children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:"main",name:"Paint on Main thread",checked:"main"===c,onChange:function(){return u("main")}},"main"),Object(p.jsx)("span",{children:"Paint on Main thread"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:"worker",name:"Paint on Worker thread",checked:"worker"===c,onChange:function(){return u("worker")}},"worker"),Object(p.jsx)("span",{children:"Paint on Worker thread"})]})]})}),Object(p.jsx)("div",{children:Object(p.jsxs)("div",{style:{width:160,height:640},children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:4,name:"Divide by 4",checked:4===s,onChange:function(){return f(4)}},4),Object(p.jsx)("span",{children:"Divide by 4"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:2,name:"Divide by 2",checked:2===s,onChange:function(){return f(2)}},2),Object(p.jsx)("span",{children:"Divide by 2"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:1,name:"Divide by 1",checked:1===s,onChange:function(){return f(1)}},1),Object(p.jsx)("span",{children:"Divide by 1"})]})]})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{style:{overflowY:"scroll",width:160,height:640},children:e.map((function(e){return Object(p.jsxs)("p",{children:[Object(p.jsx)("input",{type:"radio",value:e,name:"Option ".concat(e),checked:l===e,onChange:function(e){return d(+e.target.value)}},e),Object(p.jsxs)("span",{children:["Option ",e]})]},e)}))})}),Object(p.jsx)("div",{style:{overflowY:"scroll",width:400,height:640},dangerouslySetInnerHTML:{__html:x}})]})};var F=function(){return Object(p.jsx)(C,{})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,u=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),u(e),a(e)}))};a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(F,{})}),document.getElementById("root")),I()}},[[22,1,2]]]);
//# sourceMappingURL=main.c9103d26.chunk.js.map